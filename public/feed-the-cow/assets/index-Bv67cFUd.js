(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();window.feedTheCow.Boot=function(e){};window.feedTheCow.Boot.prototype={preload:function(){this.load.image("preloadBar","src/images/loader_bar.png"),this.load.image("titleimage","src/images/TitleImage.png")},create:function(){this.input.maxPointers=1,this.stage.disableVisibilityChange=!1,this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.setMinMax(480,260,960,540),this.scale.pageAlignHorizontally=!0,this.scale.pageAlignVertically=!0,this.input.addPointer(),this.stage.backgroundColor="#F8DD52",this.state.start("Preloader")}};window.feedTheCow.Preloader=function(e){this.preloadBar=null,this.titleText=null,this.ready=!1};window.feedTheCow.Preloader.prototype={preload:function(){this.preloadBar=this.add.sprite(this.world.centerX,this.world.centerY+80,"preloadBar"),this.preloadBar.anchor.setTo(.5,.5),this.load.setPreloadSprite(this.preloadBar),this.titleText=this.add.image(this.world.centerX,this.world.centerY-80,"titleimage"),this.titleText.anchor.setTo(.5,.5),this.load.image("titlescreen","src/images/title.png"),this.load.image("bg","src/images/BG.png"),this.load.spritesheet("cow","src/images/cow.png",186,94),this.load.image("grass","src/images/grass.png"),this.load.image("injection","src/images/injection.png"),this.load.image("deadCow","src/images/deadcow.png"),this.load.spritesheet("button","src/images/try-again.png",143,48),this.load.spritesheet("gamepad","src/images/gamepad_spritesheet.png",100,100),this.load.audio("hurt","src/audio/hurt.wav"),this.load.audio("select_audio","src/audio/select.mp3"),this.load.audio("game_audio","src/audio/bg.mp3")},create:function(){this.preloadBar.cropEnabled=!1},update:function(){this.cache.isSoundDecoded("game_audio")&&!this.ready&&(this.ready=!0,this.state.start("StartMenu"))}};window.feedTheCow.StartMenu=function(e){this.startBG=null,this.ding=null};window.feedTheCow.StartMenu.prototype={create:function(){this.ding=this.add.audio("select_audio"),this.startBG=this.add.image(0,0,"titlescreen"),this.startBG.inputEnabled=!0,this.startBG.events.onInputDown.addOnce(this.startGame,this)},startGame:function(e){this.ding.play(),this.state.start("Game")}};window.feedTheCow.Game=function(e){this.background=null,this.cow=null,this.grassGroup=null,this.totalGrass=0,this.injectionGroup=null,this.totalInjection=0,this.gameOver=!1,this.overMessage=null,this.overMessageNew=null,this.overMessageCenter=null,this.secondsElapsed=0,this.timer=null,this.music=null,this.ouch=null,this.ding=null,this.score=0,this.scoreText=null,this.lastInjectionSpawnTime=0,this.cursors=null,this.gamepad=null,this.joystick=null};window.feedTheCow.Game.SCORE_INCREMENT=10;window.feedTheCow.Game.TOTAL_GRASS=5;window.feedTheCow.Game.TOTAL_INJECTIONS_START=2;window.feedTheCow.Game.SPAWN_X_MIN=960;window.feedTheCow.Game.SPAWN_X_MAX=2500;window.feedTheCow.Game.SPAWN_Y_MIN=0;window.feedTheCow.Game.SPAWN_Y_MAX_GRASS=530;window.feedTheCow.Game.SPAWN_Y_MAX_INJECTION=500;window.feedTheCow.Game.GRASS_VELOCITY_MIN=-150;window.feedTheCow.Game.GRASS_VELOCITY_MAX=-200;window.feedTheCow.Game.GRASS_RESPAWN_VELOCITY_MIN=-200;window.feedTheCow.Game.GRASS_RESPAWN_VELOCITY_MAX=-400;window.feedTheCow.Game.INJECTION_VELOCITY_MIN=-200;window.feedTheCow.Game.INJECTION_VELOCITY_MAX=-250;window.feedTheCow.Game.INJECTION_RESPAWN_VELOCITY_MIN=-400;window.feedTheCow.Game.INJECTION_RESPAWN_VELOCITY_MAX=-450;window.feedTheCow.Game.SCROLL_SPEED_BASE=3;window.feedTheCow.Game.SCROLL_SPEED_MULTIPLIER=.5;window.feedTheCow.Game.COW_SPEED=300;window.feedTheCow.Game.INJECTION_PROGRESSION=[{threshold:50,injectionsToAdd:8},{threshold:45,injectionsToAdd:5},{threshold:40,injectionsToAdd:3},{threshold:30,injectionsToAdd:2},{threshold:20,injectionsToAdd:2},{threshold:10,injectionsToAdd:1}];window.feedTheCow.Game.prototype={create:function(){this.gameOver=!1,this.secondsElapsed=0,this.score=0,this.lastInjectionSpawnTime=0,this.timer=this.time.create(!1),this.timer.loop(1e3,this.updateSeconds,this),this.totalGrass=window.feedTheCow.Game.TOTAL_GRASS,this.totalInjection=window.feedTheCow.Game.TOTAL_INJECTIONS_START,this.music=this.add.audio("game_audio"),this.music.play("",0,.3,!0),this.ouch=this.add.audio("hurt"),this.ding=this.add.audio("select_audio"),this.cursors=this.input.keyboard.createCursorKeys(),this.buildWorld(),this.scoreText=this.add.text(15,15,"score: 0",{fontSize:"28px",fill:"#000",font:"Quicksand"}),this.gamepad=this.game.plugins.add(Phaser.Plugin.VirtualGamepad),this.joystick=this.gamepad.addJoystick(860,450,1,"gamepad")},updateSeconds:function(){this.secondsElapsed+=1,this.checkInjectionProgression()},checkInjectionProgression:function(){for(var e=window.feedTheCow.Game.INJECTION_PROGRESSION,t=0;t<e.length;t++)if(this.secondsElapsed===e[t].threshold&&this.lastInjectionSpawnTime<e[t].threshold){this.spawnAdditionalInjections(e[t].injectionsToAdd),this.lastInjectionSpawnTime=e[t].threshold;break}},spawnAdditionalInjections:function(e){if(!(!this.injectionGroup||this.gameOver))for(var t=0;t<e;t++){var s=this.injectionGroup.create(this.rnd.integerInRange(window.feedTheCow.Game.SPAWN_X_MIN,window.feedTheCow.Game.SPAWN_X_MAX),this.rnd.realInRange(window.feedTheCow.Game.SPAWN_Y_MIN,window.feedTheCow.Game.SPAWN_Y_MAX_INJECTION),"injection","");this.physics.enable(s,Phaser.Physics.ARCADE),s.enableBody=!0,s.body.velocity.x=this.rnd.integerInRange(window.feedTheCow.Game.INJECTION_VELOCITY_MIN,window.feedTheCow.Game.INJECTION_VELOCITY_MAX),s.checkWorldBounds=!0,s.events.onOutOfBounds.add(this.resetInjection,this),this.totalInjection++}},getScrollSpeed:function(){var e=window.feedTheCow.Game.SCROLL_SPEED_BASE,t=window.feedTheCow.Game.SCROLL_SPEED_MULTIPLIER,s=e+Math.sqrt(this.secondsElapsed)*t;return s},buildWorld:function(){this.background=this.add.tileSprite(0,0,960,540,"bg"),this.physics.startSystem(Phaser.Physics.ARCADE),this.buildCow(),this.buildGrass(),this.buildInjection(),this.timer.start()},buildCow:function(){this.cow=this.add.sprite(0,this.world.height-300,"cow"),this.cow.inputEnabled=!0,this.physics.arcade.enable(this.cow),this.cow.body.collideWorldBounds=!0,this.cow.input.enableDrag(),this.cow.input.allowHorizontalDrag=!1},buildGrass:function(){this.grassGroup=this.add.group();for(var e=0;e<this.totalGrass;e++){var t=e*400,s=this.rnd.integerInRange(0,600),n=this.grassGroup.create(window.feedTheCow.Game.SPAWN_X_MIN+t+s,this.rnd.realInRange(window.feedTheCow.Game.SPAWN_Y_MIN,window.feedTheCow.Game.SPAWN_Y_MAX_GRASS),"grass","");this.physics.enable(n,Phaser.Physics.ARCADE),n.enableBody=!0,n.body.velocity.x=this.rnd.integerInRange(window.feedTheCow.Game.GRASS_VELOCITY_MIN,window.feedTheCow.Game.GRASS_VELOCITY_MAX),n.checkWorldBounds=!0,n.events.onOutOfBounds.add(this.resetGrass,this)}},resetGrass:function(e){e.y>0&&this.respawnGrass(e)},respawnGrass:function(e){if(!this.gameOver){var t=this.rnd.integerInRange(window.feedTheCow.Game.SPAWN_X_MIN,window.feedTheCow.Game.SPAWN_X_MAX+500);e.reset(t,this.rnd.realInRange(window.feedTheCow.Game.SPAWN_Y_MIN,window.feedTheCow.Game.SPAWN_Y_MAX_GRASS)),e.body.velocity.x=this.rnd.integerInRange(window.feedTheCow.Game.GRASS_RESPAWN_VELOCITY_MIN,window.feedTheCow.Game.GRASS_RESPAWN_VELOCITY_MAX)}},buildInjection:function(){this.injectionGroup=this.add.group();for(var e=0;e<this.totalInjection;e++){var t=this.injectionGroup.create(this.rnd.integerInRange(window.feedTheCow.Game.SPAWN_X_MIN,window.feedTheCow.Game.SPAWN_X_MAX),this.rnd.realInRange(window.feedTheCow.Game.SPAWN_Y_MIN,window.feedTheCow.Game.SPAWN_Y_MAX_INJECTION),"injection","");this.physics.enable(t,Phaser.Physics.ARCADE),t.enableBody=!0,t.body.velocity.x=this.rnd.integerInRange(window.feedTheCow.Game.INJECTION_VELOCITY_MIN,window.feedTheCow.Game.INJECTION_VELOCITY_MAX),t.checkWorldBounds=!0,t.events.onOutOfBounds.add(this.resetInjection,this)}},resetInjection:function(e){e.y>0&&this.respawnInjection(e)},respawnInjection:function(e){this.gameOver||(e.reset(this.rnd.integerInRange(window.feedTheCow.Game.SPAWN_X_MIN,window.feedTheCow.Game.SPAWN_X_MAX),this.rnd.realInRange(window.feedTheCow.Game.SPAWN_Y_MIN,window.feedTheCow.Game.SPAWN_Y_MAX_GRASS)),e.body.velocity.x=this.rnd.integerInRange(window.feedTheCow.Game.INJECTION_RESPAWN_VELOCITY_MIN,window.feedTheCow.Game.INJECTION_RESPAWN_VELOCITY_MAX))},collectGrass:function(e,t){e.exists&&this.respawnGrass(t),this.score+=window.feedTheCow.Game.SCORE_INCREMENT,this.scoreText.text="Score: "+this.score},injectCow:function(e,t){e.kill(),this.ouch.play(),this.animateCow(e),this.music.stop(),this.gameOver=!0,this.overMessage=this.add.button(this.world.centerX-100,this.world.centerY-80,"button"),this.overMessageNew=this.add.text(this.world.centerX-100,this.world.centerY,`come on! 
`,{fontSize:"30px",fill:"#000",font:"Quicksand"}),this.overMessageCenter=this.add.text(this.world.centerX-220,this.world.centerY+40,"she's just getting started!",{fontSize:"30px",fill:"#000",font:"Quicksand"}),this.overMessage.inputEnabled=!0,this.overMessage.events.onInputDown.addOnce(this.quitGame,this)},quitGame:function(e){this.ding.play(),this.state.start("StartMenu")},animateCow:function(e){var t=this.add.sprite(e.x+200,e.y,"deadCow");this.physics.enable(t,Phaser.Physics.ARCADE),t.enableBody=!0,t.checkWorldBounds=!0,t.body.velocity.x=10,t.body.velocity.y=80,t.angle+=120},update:function(){this.physics.arcade.overlap(this.cow,this.grassGroup,this.collectGrass,null,this),this.physics.arcade.overlap(this.cow,this.injectionGroup,this.injectCow,null,this),this.gameOver||(this.joystick.properties.inUse?this.cow.body.velocity.y=this.joystick.properties.y/100*window.feedTheCow.Game.COW_SPEED:this.cursors.up.isDown?this.cow.body.velocity.y=-window.feedTheCow.Game.COW_SPEED:this.cursors.down.isDown?this.cow.body.velocity.y=window.feedTheCow.Game.COW_SPEED:this.cow.body.velocity.y=0,this.background.tilePosition.x-=this.getScrollSpeed())},shutdown:function(){this.timer&&(this.timer.stop(),this.timer.destroy(),this.timer=null),this.music&&(this.music.stop(),this.music.destroy(),this.music=null),this.ouch&&(this.ouch.destroy(),this.ouch=null),this.ding&&(this.ding.destroy(),this.ding=null),this.grassGroup&&(this.grassGroup.forEach(function(e){e.events.onOutOfBounds.removeAll()},this),this.grassGroup.destroy(),this.grassGroup=null),this.injectionGroup&&(this.injectionGroup.forEach(function(e){e.events.onOutOfBounds.removeAll()},this),this.injectionGroup.destroy(),this.injectionGroup=null),this.cow&&(this.cow=null),this.background&&(this.background=null),this.scoreText&&(this.scoreText=null),this.overMessage&&(this.overMessage=null),this.overMessageNew&&(this.overMessageNew=null),this.overMessageCenter&&(this.overMessageCenter=null)}};window.onload=function(){var e=new Phaser.Game(960,540,Phaser.CANVAS,"");e.state.add("Boot",feedTheCow.Boot),e.state.add("Preloader",feedTheCow.Preloader),e.state.start("Boot"),e.state.add("StartMenu",feedTheCow.StartMenu),e.state.add("Game",feedTheCow.Game)};
